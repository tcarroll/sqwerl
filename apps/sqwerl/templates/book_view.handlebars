<div class="properties-title">
    <div class="title-bar-title">{{name}}</div>
    <div class="title-bar-type">is a book</div>
    <span class="title-bar-links">
        {{#if hasConnections}}
            <span>with</span>
            {{#if hasMultipleConnections}}
                {{connectionCountText}} links
            {{else}}
                one link
            {{/if}}
        {{/if}}
    </span>
    <span class="title-bar-right"></span>
</div>

<div class="properties-scrollable-content">
    <div>
        {{#if title}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">Title</div>
                <div class="read-only-field-value">{{title}}</div>
            </div>
        {{/if}}

        {{#if description}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">Full description</div>
                <div class="read-only-field-value">{{description}}</div>
            </div>
        {{/if}}

        {{#if tip}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">Short description</div>
                <div class="read-only-field-value">{{tip}}</div>
            </div>
        {{/if}}

        {{#if hasRead}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-value">I have read this book</div>
            </div>
        {{/if}}

        {{#if hasAuthors}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleAuthors}}Authors <span class="read-only-field-label-count">{{authors.totalCount}}</span>{{else}}Author{{/if}}
                </div>
                {{#if hasMultipleAuthors}}
                    {{#each authors.members class="read-only-field-value" tagName="div"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a>, author of {{numberFormat authorOfCount}}
                            {{singularOrPlural authorOfCount thing things}}</span>
                    {{/each}}
                {{else}}
                    {{#each authors.members class="read-only-field-value" tagName="div"}}
                        <span><a href="#{{ref id}}">{{name}}</a>, author of {{numberFormat authorOfCount}}
                            {{singularOrPlural authorOfCount thing things}}</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasCategories}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleCategories}}
                        Categories <span class="read-only-field-label-count">{{categories.totalCount}}</span>
                    {{else}}
                        Category
                    {{/if}}
                </div>
                {{#if hasMultipleCategories}}
                    {{#each categories.members class="read-only-field-value" tagName="div"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{#thingPath}}{{/thingPath}}</a> has {{numberFormat childrenCount}}
                            {{singularOrPlural childrenCount child children}}</span>
                    {{/each}}
                {{else}}
                    {{#each categories.members class="read-only-field-value" tagName="div"}}
                        <span><a href="#{{ref id}}">{{#thingPath}}{{/thingPath}}</a> has {{numberFormat childrenCount}}
                            {{singularOrPlural childrenCount child children}}</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasNotes}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleNotes}}
                        Notes <span class="read-only-field-label-count">{{notes.totalCount}}</span>
                    {{else}}
                        Notes
                    {{/if}}
                </div>
                {{#if hasMultipleNotes}}
                    {{#each notes.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a></span>
                    {{/each}}
                {{else}}
                    {{#each notes.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a></span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasReadBy}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleReadBy}}
                        Read by <span class="read-only-field-label-count">{{readBy.totalCount}}</span> people
                    {{else}}
                        Read by
                    {{/if}}
                </div>
                {{#if hasMultipleReadBy}}
                    {{#each readBy.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a> has read {{numberFormat hasReadCount}}
                            {{singularOrPlural hasReadCount thing things}}</span>
                    {{/each}}
                {{else}}
                    {{#each readBy.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a> has read {{numberFormat hasReadCount}}
                            {{singularOrPlural hasReadCount thing things}}</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasReading}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleReading}}
                        Readers <span class="read-only-field-label-count">{{reading.totalCount}}</span>
                    {{else}}
                        Reader
                    {{/if}}
                </div>
                {{#if hasMultipleReading}}
                    {{#each reading.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}} ({{#typeOfThingName}}{{/typeOfThingName}})</a> is currently reading
                            {{numberFormat isReadingCount}} {{singularOrPlural isReadingCount thing things}}</span>
                    {{/each}}
                {{else}}
                    {{#each reading.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}} ({{#typeOfThingName}}{{/typeOfThingName}})</a> is currently reading
                            {{numberFormat isReadingCount}} {{singularOrPlural isReadingCount thing things}}</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasRecommendedBy}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleRecommendedBy}}
                        Recommended by <span class="read-only-field-label-count">{{recommendedBy.totalCount}}</span> things
                    {{else}}
                        Recommended by
                    {{/if}}
                </div>
                {{#if hasMultipleRecommendedBy}}
                    {{#each recommendedBy.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}} ({{#typeOfThingName}}{{/typeOfThingName}})</a> has recommended
                            {{numberFormat recommendationsCount}} {{singularOrPlural recommendationsCount thing things}}</span>
                    {{/each}}
                {{else}}
                    {{#each recommendedBy.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}} ({{#typeOfThingName}}{{/typeOfThingName}})</a> has recommended
                            {{numberFormat recommendationsCount}} {{singularOrPlural recommendationsCount thing things}}</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasRecommendations}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleRecommendations}}
                        Recommends <span class="read-only-field-label-count">{{recommendations.totalCount}}</span> things
                    {{else}}
                        Recommends
                    {{/if}}
                </div>
                {{#if hasMultipleRecommendations}}
                    {{#each recommendations.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a> ({{#typeOfThingName}}{{/typeOfThingName}})</span>
                    {{/each}}
                {{else}}
                    {{#each recommendations.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a> ({{#typeOfThingName}}{{/typeOfThingName}})</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasTags}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleTags}}
                        Tagged with <span class="read-only-field-label-count">{{tags.totalCount}}</span> tags
                    {{else}}
                        Tag
                    {{/if}}
                </div>
                {{#if hasMultipleTags}}
                    {{#each tags.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a>, {{numberFormat
                                taggedCount}} {{singularOrPlural taggedCount "thing has" "things have"}} the same tag</span>
                    {{/each}}
                {{else}}
                    {{#each tags.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a>, {{numberFormat
                                taggedCount}} {{singularOrPlural taggedCount "thing has" "things have"}} the same tag</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasLinks}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleLinks}}
                        Links to <span class="read-only-field-label-count">{{links.totalCount}}</span> things
                    {{else}}
                        Linked to
                    {{/if}}
                </div>
                {{#if hasMultipleLinks}}
                    {{#each links.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a> ({{#typeOfThingName}}{{/typeOfThingName}})</span>
                    {{/each}}
                {{else}}
                    {{#each links.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a> ({{#typeOfThingName}}{{/typeOfThingName}})</span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if hasComments}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">
                    {{#if hasMultipleComments}}
                        Comments <span class="read-only-field-label-count">{{comments.totalCount}}</span>
                    {{else}}
                        Comment
                    {{/if}}
                </div>
                {{#if hasMultipleComments}}
                    {{#each comments.members tagName="div" class="read-only-field-value"}}
                        <span class="ordinal">{{position}}.</span>
                        <span><a href="#{{ref id}}">{{name}}</a></span>
                    {{/each}}
                {{else}}
                    {{#each comments.members tagName="div" class="read-only-field-value"}}
                        <span><a href="#{{ref id}}">{{name}}</a></span>
                    {{/each}}
                {{/if}}
            </div>
        {{/if}}

        {{#if createdOn}}
            <div class="read-only-label-and-value">
                <div class="read-only-field-label">History</div>
                <div class="read-only-field-value">
                    {{creator.name}} added this book on {{formatDate createdOn}}
                </div>
            </div>
        {{/if}}
    </div>
</div>